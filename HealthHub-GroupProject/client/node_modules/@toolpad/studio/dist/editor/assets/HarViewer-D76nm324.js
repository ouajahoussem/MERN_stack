import{r as Ee,a as mt,j as bt,h as yt,s as wt}from"./index-DqnnN-np.js";function Ct(e){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=e.match(t)||[];return{authority:n[4],fragment:n[9],path:n[5],query:n[7],scheme:n[2]}}function ee(e,t){return e.some(n=>n===t)}function vt(e,t){let n=0;if(!e||e.length<1)return;const s=e.length;for(;n<s;){if(t(e[n],n))return n;n++}}function je(e,t){const n=vt(e,t);if(n!==void 0)return e[n]}function Ve(e,t){if(e.length<t)return e.replace(/https?:\/\//,"");const n=Ct(e);if((n.authority+n.path).length<t)return n.authority+n.path;const s=Math.floor(t/2)-3,i=Math.floor(t/2)-5,o=n.path.split("/");return n.authority.length>s?n.authority.substr(0,s)+"..."+o[o.length-1].substr(-i):n.authority+"..."+o[o.length-1].substr(-i)}function w(e,t=2){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function R(e,t,n){return e>=t&&e<=n}const xt=/[^a-z-]/g;function Fe(e){return e.toLowerCase().replace(xt,"")}function Z(e,t){return e+(t>1?"s":"")}function Ue(e){return e.which===9&&e.shiftKey}function Qe(e){return e.which===9&&!e.shiftKey}function L(e,t,n=Tt){if(e===void 0)return;const s=t(e);if(s!==void 0)return n(s)}function Tt(e){if(e.toString&&typeof e.toString=="function")return e.toString();throw TypeError(`Can't convert type ${typeof e} to string`)}function ge(e){return e.trim().length>0?e:void 0}function qt(e){const t=new Date(e);if(!isNaN(t.getTime()))return t}function De(e){return e==null?void 0:Ye(e,n=>n>=0)}function D(e){return e==null?void 0:Ye(e,n=>n>0)}function Ye(e,t){const n=s=>t(s)?s:void 0;if(typeof e=="string"){const s=parseInt(e,10);return isFinite(s)?n(s):void 0}return n(e)}function k(e){return e!==void 0?`${w(e,3)} ms`:void 0}const me=60,be=60*me,$e=24*be;function Ge(e){if(e===void 0)return;const t=`${w(e,3)} s`;return e>$e?`${t} (~${w(e/$e,0)} days)`:e>be?`${t} (~${w(e/be,0)} hours)`:e>me?`${t} (~${w(e/me,0)} minutes)`:t}function St(e){return e!==void 0?`${e.toUTCString()}<br/>(local time: ${e.toLocaleString()})`:void 0}const ye=1024,He=1024*ye;function Lt(e){if(e===void 0)return"";const t=`${e} bytes`;return e>=He?`${t} (~${w(e/He,1)} MB)`:e>=ye?`${t} (~${w(e/ye,0)} kB)`:t}const Ke={'"':"&quot","&":"&amp","'":"&#039","<":"&lt",">":"&gt"},Et=new RegExp(Object.keys(Ke).join("|"),"g");function E(e=""){if(e==null)return"";if(typeof e!="string")if(typeof e.toString=="function")e=e.toString();else throw TypeError("Invalid parameter");return e.replace(Et,t=>Ke[t])}const $t=new RegExp("[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]","g");function Xe(e){const t=e.replace($t,"_");return t.indexOf("http://")===0||t.indexOf("https://")===0?t:(console.warn("skipped link, due to potentially unsafe url",e),"")}const Ht=new RegExp("[^a-zA-Z0-9]","g");function Ze(e){return e.toString().replace(Ht,"")}function J(e){return typeof e=="number"?e:typeof e=="string"?parseInt(e,10):void 0}function It(e){const t=s=>{const i=J(e[s]);if(i===void 0)throw TypeError(`option "${s}" needs to be a number`);e[s]=i},n=s=>{e[s]=!!e[s]};return t("leftColumnWidth"),t("rowHeight"),t("selectedPage"),n("showAlignmentHelpers"),n("showIndicatorIcons"),n("showMimeTypeIcon"),e}function Mt(){const e=document.createElement("ul");return e.className="resource-legend",e.innerHTML=`
        <li class="legend-blocked" title="Time spent in a queue waiting for a network connection.">Blocked</li>
        <li class="legend-dns" title="DNS resolution time.">DNS</li>
        <li class="legend-connect" title="Time required to create TCP connection.">Connect</li>
        <li class="legend-ssl" title="Time required for SSL/TLS negotiation.">SSL (TLS)</li>
        <li class="legend-send" title="Time required to send HTTP request to the server.">Send</li>
        <li class="legend-wait" title="Waiting for a response from the server.">Wait</li>
        <li class="legend-receive"
        title="Time required to read entire response from the server (or cache).">Receive</li>`,e}function A(e,t){const n=e.classList;return n?t.split(" ").forEach(s=>n.add(s)):e.setAttribute("class",e.getAttribute("class")+" "+t),e}function V(e,t){const n=e.classList;return n?n.remove(t):e.setAttribute("class",(e.getAttribute("class")||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2")),e}function K(e,t){if(typeof e.closest=="function")return e.closest(`.${t}`);for(;e;){if(e.classList.contains(t))return e;e=e.parentElement}return null}function Je(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild);return e}function Ie(e){if(!(!e||e.length===0))return e.item(e.length-1)}function Me(e,t){Array.prototype.forEach.call(e,t)}function Pt(e,t,n){t in e.style?e.style[t]=n:console.warn(new Error(`Trying to set non-existing style ${t} = ${n} on a <${e.tagName.toLowerCase()}>.`))}function At(e,t,n){t in e||console.warn(new Error(`Trying to set non-existing attribute ${t} = ${n} on a <${e.tagName.toLowerCase()}>.`)),e.setAttributeNS("",t,n)}function et(e,t){Object.keys(t).forEach(n=>{Pt(e,n,t[n].toString())})}function Ot(e,t){Object.keys(t).forEach(n=>{At(e,n,t[n].toString())})}function tt(){const e=document.createElement("html");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/xmlns/"),e}function nt(e={},t=""){const n=document.createElement("body");return n.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),et(n,e),n.innerHTML=t,n}class Nt{constructor(t,n=0){this.doc=t,this.selectedPageIndex=n,this.onPageUpdateCbs=[],n>=this.doc.pages.length&&(this.selectedPageIndex=this.doc.pages.length-1)}getPageCount(){return this.doc.pages.length}getSelectedPage(){return this.doc.pages[this.selectedPageIndex]}getSelectedPageIndex(){return this.selectedPageIndex}setSelectedPageIndex(t){if(this.selectedPageIndex===t)return;if(t<0||t>=this.getPageCount())throw new Error("Page does not exist - Invalid pageIndex selected");this.selectedPageIndex=t;const n=this.doc.pages[this.selectedPageIndex];this.onPageUpdateCbs.forEach(s=>{s(this.selectedPageIndex,n)})}onPageUpdate(t){if(this.getPageCount()>1)return this.onPageUpdateCbs.push(t)}initPagingSelectBox(t){const n=this;if(this.getPageCount()<=1){t.style.display="none";return}Je(t),this.doc.pages.forEach((s,i)=>{const o=new Option(s.title,i.toString(),!1,i===this.selectedPageIndex);t.add(o)}),t.style.display="block",t.addEventListener("change",s=>{const i=parseInt(s.target.value,10);n.setSelectedPageIndex(i)})}}const ve=e=>t=>t.name.toLowerCase()===e;function we(e,t){const n=ve(t.toLowerCase());return e.some(n)}const zt=!!Array.prototype.find;function Q(e,t){const n=ve(t.toLowerCase());let s;return zt?s=e.find(n):s=e.map(n).pop(),s?s.value:void 0}function st(e,t){const n=ve(t.toLowerCase());return e.filter(n).map(s=>[t,s.value])}function _t(e,t){if(e.response.bodySize<1e3)return!1;if(ee(["html","css","javascript","svg","plain"],t))return!0;const s=e.response.content.mimeType,i=["application/vnd.ms-fontobject","application/x-font-opentype","application/x-font-truetype","application/x-font-ttf","application/xml","font/eot","font/opentype","font/otf","image/vnd.microsoft.icon"];return!!(ee(["text"],s.split("/")[0])||ee(i,s.split(";")[0]))}function kt(e){if(!e.request.method||e.request.method.toLowerCase()!=="get"||e.response.status===204||!R(e.response.status,200,299))return!1;const t=e.response.headers;return!(we(t,"Cache-Control")||we(t,"Expires"))}function Rt(e,t){const n=e.response.headers;return!we(n,"Content-Encoding")&&_t(e,t)}function Ce(e){return e.request.url.indexOf("https://")===0}function Bt(e,t){return t===0&&!!e.response.redirectURL}function Wt(e){return e._was_pushed===void 0||e._was_pushed===null?!1:J(e._was_pushed)===1}function jt(e){const t=e.filter(n=>!n.response.redirectURL)[0];return t===void 0?e.length>0?Ce(e[0]):!1:Ce(t)}function Vt(e,t,n,s){const i=[];return Wt(e)&&i.push({description:"Response was pushed by the server using HTTP2 push.",displayType:"inline",icon:"push",id:"push",title:"Response was pushed by the server",type:"info"}),n&&!(Ce(e)||Bt(e,t))&&i.push({description:"Insecure request, it should use HTTPS.",displayType:"icon",id:"noTls",title:"Insecure Connection",type:"error"}),kt(e)&&i.push({description:"The response is not allow to be cached on the client. Consider setting 'Cache-Control' headers.",displayType:"icon",id:"noCache",title:"Response not cached",type:"error"}),Rt(e,s)&&i.push({description:"The response is not compressed. Consider enabling HTTP compression on your server.",displayType:"icon",id:"noGzip",title:"no gzip",type:"error"}),!e.response.content.mimeType&&R(e.response.status,200,299)&&e.response.status!==204&&i.push({description:"Response doesn't contain a 'Content-Type' header.",displayType:"icon",id:"warning",title:"No MIME Type defined",type:"warning"}),i}function j(e,t){return{type:e,title:t,width:20}}function Ft(e){const t=e.responseDetails.indicators.filter(r=>r.displayType==="icon");if(t.length===0)return[];const n=[];let s="";const i=t.filter(r=>r.type==="error"),o=t.filter(r=>r.type==="warning"),l=t.filter(r=>r.type!=="error"&&r.type!=="warning");return i.length>0&&(n.push(Z("Error",i.length)+`:
 `+i.map(r=>r.title).join(`
`)),s="error"),o.length>0&&(n.push(Z("Warning",o.length)+`:
`+o.map(r=>r.title).join(`
`)),s=s||"warning"),l.length>0&&(n.push(`Info:
${l.map(r=>r.title).join(`
`)}`),!s&&l.length===1?s=l[0].icon||l[0].type:s=s||"info"),[j(s,n.join(`
`))]}const Pe=e=>E(e).replace("&ltbr/&gt","<br/>");function P(e,t=!1){const n=s=>t?`class="${Fe(s)||"no-colour"}"`:"";return e.map(s=>`
      <dt ${n(s[0])}>${Pe(s[0])}</dt>
      <dd>${Pe(s[1])}</dd>
    `).join("")}function it(e){if(e===void 0)return"other";const t=e.split("/");let n=t[1];switch(n!==void 0&&(n=n.indexOf(";")>-1?n.split(";")[0]:n),t[0]){case"image":return n==="svg+xml"?"svg":"image";case"font":return"font";case"video":return"video";case"audio":return"audio"}switch(n){case"xml":case"html":return"html";case"plain":return"plain";case"css":return"css";case"vnd.ms-fontobject":case"font-woff":case"font-woff2":case"x-font-truetype":case"x-font-opentype":case"x-font-woff":return"font";case"javascript":case"x-javascript":case"script":case"json":return"javascript";case"x-shockwave-flash":return"flash";default:return"other"}}function Ut(e,t,n,s=[],i,o){const l=typeof t!="number"||typeof n!="number"?NaN:n-t;return{end:n,responseDetails:i,segments:s,start:t,tabs:o,total:l,url:e}}function X(e,t,n,s){const i=typeof t!="number"||typeof n!="number"?NaN:n-t,o=Ze(e);return{end:n,start:t,total:i,type:o,chunks:s}}function Qt(e,t,n){const s=["row-item"];return R(e,500,599)?s.push("status5xx"):R(e,400,499)?s.push("status4xx"):e!==304&&R(e,300,399)?s.push("status3xx"):(e===0||e===void 0)&&s.push("status0"),n===!0&&s.push("largestContentfulPaint"),t==="potentially_blocking"?s.push("potentiallyRenderBlocking"):(t==="blocking"||t==="in_body_parser_blocking")&&s.push("renderBlocking"),s.join(" ")}function Dt(e,t,n,s=""){if(s){const i=encodeURI(s.split("?")[0]||"");return j("err3xx",`${e} response status: Redirect to ${E(i)}...`)}else return R(e,400,499)?j("err4xx",`${e} response status: ${E(t)}`):R(e,500,599)?j("err5xx",`${e} response status: ${E(t)}`):e===204?j("plain","No content"):j(Ze(n),E(n))}const ot=e=>{const t=[];return e.forEach(n=>{if(!(n===void 0||n.length===0)){if(Array.isArray(n[0])){t.push(...n);return}t.push(n)}}),t},y=(e,t)=>[e,L(t,D,Lt)],Ae=(e,t)=>[e,L(t,D)],F=e=>e.length>1&&e[1]!==void 0&&e[1]!=="";function Yt(e,t,n){return[["Request Number",`#${n}`],["Started",new Date(e.startedDateTime).toLocaleString()+(t>0?" ("+k(t)+" after page request started)":"")],["Duration",k(e.time)],["Error/Status Code",e.response.status+" "+e.response.statusText],["Server IPAddress",e.serverIPAddress],["Connection",e.connection],["Browser Priority",e._priority||e._initialPriority],["Was pushed",L(e._was_pushed,D,()=>"yes")],["Initiator (Loaded by)",e._initiator],["Initiator Line",e._initiator_line],["Initiator Type",e._initiator_type],["Host",Q(e.request.headers,"Host")],["IP",e._ip_addr],["Client Port",L(e._client_port,D)],["Expires",e._expires],["Cache Time",L(e._cache_time,D,Ge)],["CDN Provider",e._cdn_provider],["Render blocking",e._renderBlocking],["Is Largest Contentful Paint",e._isLCP?"yes":void 0],y("ObjectSize",e._objectSize),y("Bytes In (downloaded)",e._bytesIn),y("Bytes Out (uploaded)",e._bytesOut),y("JPEG Scan Count",e._jpeg_scan_count),y("Gzip Total",e._gzip_total),y("Gzip Save",e._gzip_save),y("Minify Total",e._minify_total),y("Minify Save",e._minify_save),y("Image Total",e._image_total),y("Image Save",e._image_save)].filter(F)}function Gt(e){const t=e.request,n=s=>st(t.headers,s);return ot([["Method",t.method],["HTTP Version",t.httpVersion],y("Bytes Out (uploaded)",e._bytesOut),y("Headers Size",t.headersSize),y("Body Size",t.bodySize),["Comment",L(t.comment,ge)],n("User-Agent"),n("Host"),n("Connection"),n("Accept"),n("Accept-Encoding"),n("Expect"),n("Forwarded"),n("If-Modified-Since"),n("If-Range"),n("If-Unmodified-Since"),Ae("Querystring parameters count",t.queryString.length),Ae("Cookies count",t.cookies.length)]).filter(F)}function Kt(e){const t=e.response,n=t.content,s=t.headers,i=(c,d=c)=>st(s,d),o=c=>{const d=Q(s,c);return[c,L(d,qt,St)]},l=Q(s,"Content-Length");let r;n.size&&n.size!==-1&&l!==n.size.toString()&&(r=n.size);let a=Q(s,"Content-Type");return e._contentType&&e._contentType!==a&&(a=a+" | "+e._contentType),ot([["Status",t.status+" "+t.statusText],["HTTP Version",t.httpVersion],y("Bytes In (downloaded)",e._bytesIn),y("Headers Size",t.headersSize),y("Body Size",t.bodySize),["Content-Type",a],i("Cache-Control"),i("Content-Encoding"),o("Expires"),o("Last-Modified"),i("Pragma"),y("Content-Length",l),y("Content Size",r),y("Content Compression",n.compression),i("Connection"),i("ETag"),i("Accept-Patch"),["Age",L(Q(s,"Age"),De,Ge)],i("Allow"),i("Content-Disposition"),i("Location"),i("Strict-Transport-Security"),i("Trailer (for chunked transfer coding)","Trailer"),i("Transfer-Encoding"),i("Upgrade"),i("Vary"),i("Timing-Allow-Origin"),["Redirect URL",L(t.redirectURL,ge)],["Comment",L(t.comment,ge)]]).filter(F)}function Xt(e,t,n){const s=e.timings,i=r=>L(r,De,k),o=typeof t!="number"||typeof n!="number"?void 0:n-t;let l=i(s.connect);return s.ssl&&s.ssl>0&&s.connect&&(l=`${l} (without TLS: ${i(s.connect-s.ssl)})`),[["Total",k(o)],["Blocked",i(s.blocked)],["DNS",i(s.dns)],["Connect",l],["SSL (TLS)",i(s.ssl)],["Send",k(s.send)],["Wait",k(s.wait)],["Receive",k(s.receive)]].filter(F)}function Zt(e,t,n,s){const i=e.request.headers,o=e.response.headers,l=r=>[r.name,r.value];return{general:Yt(e,n,t),request:Gt(e),requestHeaders:i.map(l).filter(F),response:Kt(e),responseHeaders:o.map(l).filter(F),timings:Xt(e,n,s)}}const Jt=/\\n/g,en=/\n/g,tn=/\\t/g;function nn(e,t,n,s,i,o){const l=[],r=Zt(e,t,s,i);return l.push(sn(r.general,o)),l.push(on(r.request,r.requestHeaders)),l.push(rn(r.response,r.responseHeaders)),l.push(Y("Timings",P(r.timings,!0))),l.push(an(e)),n==="image"&&l.push(cn(e)),e.response.content&&e.response.content.mimeType&&e.response.content.mimeType.indexOf("text/")===0&&e.response.content.text&&l.push(ln(e)),l.filter(a=>a!==void 0)}function Y(e,t,n=""){return{content:t,tabClass:n,title:e}}function xe(e,t,n=""){return{renderContent:t,tabClass:n,title:e}}function sn(e,t){const n=P(e);if(t.length===0)return Y("General",n);const s=`<h2>General</h2>
<dl>${n}<dl>`;let i="";const o=t.filter(a=>a.type==="error").map(a=>[a.title,a.description]),l=t.filter(a=>a.type==="warning").map(a=>[a.title,a.description]),r=t.filter(a=>a.type!=="error"&&a.type!=="warning").map(a=>[a.title,a.description]);return o.length>0&&(i+=`<h2 class="no-border">${Z("Error",o.length)}</h2>
    <dl>${P(o)}</dl>`),l.length>0&&(i+=`<h2 class="no-border">${Z("Warning",l.length)}</h2>
    <dl>${P(l)}</dl>`),r.length>0&&(i+=`<h2 class="no-border">Info</h2>
    <dl>${P(r)}</dl>`),Y("General",i+s)}function on(e,t){const n=`<dl>
      ${P(e)}
    </dl>
    <h2>All Request Headers</h2>
    <dl>
      ${P(t)}
    </dl>`;return Y("Request",n)}function rn(e,t){const n=`<dl>
      ${P(e)}
    </dl>
    <h2>All Response Headers</h2>
    <dl>
      ${P(t)}
    </dl>`;return Y("Response",n)}function ln(e){const t=e.response.content.text||"",n=t.replace(Jt,`
`).replace(tn,"	"),s=t.match(en),i=s?s.length:1;return xe(`Content (${i} Line${i>1?"s":""})`,()=>`
    <button class="copy-tab-data">Copy Content to Clipboard</button>
    <pre><code>${E(n)}</code></pre>
    `,"content rendered-data")}function an(e){return xe("Raw Data",()=>`
      <button class="copy-tab-data">Copy Raw Data to Clipboard</button>
      <pre><code>${E(JSON.stringify(e,null,2))}</code></pre>
      `,"raw-data rendered-data")}function cn(e){return xe("Preview",t=>`<img class="preview" style="max-height:${t-100}px"
    data-src="${Xe(e.request.url)}" />`)}function dn(e,t){const n=e.log!==void 0?e.log:e;return{pages:rt(n).map((i,o)=>fn(n,o,t))}}function un(e,t,n,s){n=Math.round(n);const i=Math.round(J(e._all_end)||n+e.time),o=it(e.response.content.mimeType),l=Vt(e,t,s,o),r=bn(e,l);return Ut(e.request.url,n,i,gn(n,e),r,nn(e,t+1,o,n,i,l))}const rt=e=>{if(e.pages&&e.pages.length>0)return e.pages;const t=e.entries.reduce((n,s)=>{const i=Date.parse(s.startedDateTime);return Date.parse(n)<i?n:s.startedDateTime},e.entries[0].startedDateTime);return[{id:"",pageTimings:{},startedDateTime:t,title:"n/a"}]};function fn(e,t=0,n){const s=e.log!==void 0?e.log:e,i=rt(s),o=i[t];if(!o.startedDateTime)throw new TypeError(`Invalid HAR document: "log.pages[${t}].startedDateTime" is not set`);const l=new Date(o.startedDateTime).getTime(),r=o.pageTimings;let a=0;const c=jt(s.entries),d=s.entries.filter(u=>u.request.url.indexOf("data:")===0||u.request.url.indexOf("javascript:")===0?!1:i.length===1&&o.id===""?!0:u.pageref===o.id).map((u,h)=>{const g=new Date(u.startedDateTime).getTime()-l;return isNaN(g)?console.warn("Entry has no valid 'startedDateTime' time",u.request.url,u):a=Math.max(a,g+u.time),un(u,h,g,c)}),f=pn(r,o,n);return f.forEach(u=>{u.startTime>a&&(a=u.startTime)}),n.fixedLengthMs&&(a=n.fixedLengthMs),a+=100,{docIsTLS:c,durationMs:a,entries:d,marks:f,title:o.title}}const pn=(e,t,n)=>{if(e===void 0)return[];const s=(o,l)=>o.startTime-l.startTime,i=Object.keys(e).filter(o=>typeof e[o]=="number"&&e[o]>=0).map(o=>({name:`${E(o.replace(/^[_]/,""))} (${w(e[o],0)} ms)`,startTime:e[o]}));return n.showUserTiming?hn(t,n).concat(i).sort(s):i.sort(s)},hn=(e,t)=>{const n=t.showUserTimingEndMarker?l=>l.indexOf("_userTime.")===0:l=>l.indexOf("_userTime.")===0&&l.indexOf("_userTime.endTimer-")!==0;let s=n;if(Array.isArray(t.showUserTiming)){const l=t.showUserTiming;s=r=>n(r)&&l.indexOf(r.replace(/^_userTime\./,""))>=0}const i=/^_userTime\.((?:startTimer-)?(.+))$/,o=l=>{let r,a,c;return[,a,r]=i.exec(l)||[,void 0,void 0],a=E(a),r=E(r),a!==r&&e[`_userTime.endTimer-${r}`]?(c=e[`_userTime.endTimer-${r}`]-e[l],{duration:c,name:`${t.showUserTimingEndMarker?a:r} (${e[l]} - ${e[l]+c} ms)`,startTime:e[l]}):{name:a,startTime:e[l]}};return Object.keys(e).filter(s).map(o)},gn=(e,t)=>{const n=t.timings,s=t._chunks||[];return["blocked","dns","connect","send","wait","receive"].reduce((o,l)=>{const r=mn(l,t,o,e);if(r.end&&r.start>=r.end)return o;if(l==="connect"&&n.ssl&&n.ssl!==-1){const a=parseInt(`${t._ssl_start}`,10)||r.start,c=parseInt(`${t._ssl_end}`,10)||r.start+n.ssl,d=parseInt(`${t._ssl_start}`,10)?r.start:c;return o.concat([X("ssl",Math.round(a),Math.round(c))]).concat([X(l,Math.round(d),Math.round(r.end))])}return l==="receive"&&s&&s.length>0?o.concat([X(l,Math.round(r.start),Math.round(r.end),s)]):o.concat([X(l,Math.round(r.start),Math.round(r.end))])},[])},mn=(e,t,n,s)=>{let i;switch(e){case"wait":i="ttfb";break;case"receive":i="download";break;default:i=e}const o=parseInt(`${t[`_${i}_start`]}`,10),l=parseInt(`${t[`_${i}_end`]}`,10),r=isNaN(o)?n.length>0?n[n.length-1].end:s:o,a=isNaN(l)?r+(t.timings[e]??0):l;return{end:Math.round(a),start:Math.round(r)}},bn=(e,t)=>{const n=it(e.response.content.mimeType),s=J(e.response.status)||0,i=e._renderBlocking||"",o=e._isLCP||!1;return{icon:Dt(s,e.response.statusText,n,e.response.redirectURL),indicators:t,requestType:n,rowClass:Qt(s,i,o),statusCode:s}},Te="http://www.w3.org/2000/svg";function O(e,{attributes:t={},css:n={},text:s="",className:i=""}={}){const o=document.createElementNS(Te,e);return i&&A(o,i),s&&(o.textContent=s),et(o,n),Ot(o,t),o}function B(e,t,n={}){return O("svg",{className:e,attributes:t,css:n})}function C(e,t={},n={}){return O("g",{className:e,attributes:t,css:n})}function lt(e){return O("clipPath",{attributes:{id:e}})}function at(e,t="",n={}){return O("foreignObject",{attributes:e,className:t,css:n})}function ct(e){return O("a",{className:e})}function H(e,t="",n={}){return O("rect",{attributes:e,className:t,css:n})}function G(e,t=""){return O("line",{className:t,attributes:e})}function U(e){const t=document.createElementNS(Te,"title");return t.setAttribute("text",e),t}function M(e,t={},n={}){return O("text",{text:e,attributes:t,css:n})}function T(e){const t=document.createElementNS(Te,"path");return t.setAttribute("d",e),t}const yn=(()=>{let e,t;return()=>(e===void 0&&(e=B("water-fall-chart temp",{className:"water-fall-chart temp",width:"9999px"},{left:"0px",position:"absolute",top:"0px",visibility:"hidden","z-index":"99999"})),e.parentElement===void 0&&window.document.body.appendChild(e),clearTimeout(t),t=setTimeout(()=>{e.parentNode.removeChild(e)},500),e)})();function dt(e,t=!1){if((e.textContent||"").length===0)return 0;const n=yn();let s,i;t?(i=e.style.textShadow,s=e):(s=e.cloneNode(!0),s.setAttribute("x","0"),s.setAttribute("y","0")),s.style.textShadow="0",n.appendChild(s),window.document.body.appendChild(n);const o=s.getComputedTextLength();return t&&i!==void 0&&(e.style.textShadow=i),o}function wn(e){return"block-"+e}function Cn(e){return"block-"+e}function vn(e,t,n){const s=tt(),i=nt(),o=n.tabs.map(r=>`<li><button class="tab-button">${r.title}</button></li>`).join(`
`),l=n.tabs.map(r=>{let a="tab";r.tabClass&&(a+=` ${r.tabClass}`);let c="";if(r.content)c=r.content;else if(typeof r.renderContent=="function")c=r.renderContent(t),r.content=c;else throw TypeError("Invalid Details Tab");return`<div class="tab ${a}">${c}</div>`}).join(`
`);return i.innerHTML=`
    <div class="wrapper">
      <header class="type-${n.responseDetails.requestType}">
        <h3><strong>#${e}</strong> <a href="${Xe(n.url)}">
          ${E(n.url)}
        </a></h3>
        <nav class="tab-nav">
          <ul>
            ${o}
          </ul>
        </nav>
      </header>
      ${l}
    </div>
    `,s.appendChild(i),s}function xn(e){const t=ct("info-overlay-close-btn");return t.appendChild(H({height:23,width:23,x:"100%",y:e})),t.appendChild(M("✕",{dx:7,dy:16,x:"100%",y:e})),t.appendChild(U("Close Overlay")),t}function Tn(e,t){const n=C("info-overlay-holder"),s=H({height:t,rx:2,ry:2,width:"100%",x:"0",y:e},"info-overlay-bg");return n.appendChild(s),n}const Oe=e=>{const t=e.target;if(t.tagName.toLowerCase()==="button"&&t.classList.contains("copy-tab-data")){const n=document.createElement("textarea");n.value=t.nextElementSibling?t.nextElementSibling.innerText:"",document.body.appendChild(n),n.select(),n.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(n)}};function qn(e,t,n){const s=e.index+1,i=Tn(t,n),o=at({height:n,width:"100%",x:"0",y:t}),l=vn(s,n,e.entry),r=xn(t);r.addEventListener("click",()=>{e.onClose(e.index),l.removeEventListener("click",Oe)}),l.addEventListener("click",Oe);const a=()=>l.getElementsByClassName("tab-button"),c=()=>l.getElementsByClassName("tab"),d=f=>{e.openTabIndex=f,Me(c(),(u,h)=>{u.style.display=f===h?"block":"none",a().item(h).classList.toggle("active",f===h)})};return Me(a(),(f,u)=>{f.addEventListener("click",()=>d(u))}),d(e.openTabIndex),o.appendChild(l),i.appendChild(o),i.appendChild(r),i}class ${constructor(t){this.context=t,this.openOverlays=[],this.realignRow=(n,s)=>{n.setAttribute("transform",`translate(0, ${s})`)}}getCombinedOverlayHeight(){return this.openOverlays.reduce((t,n)=>t+(n.height||0),0)}openOverlay(t,n,s,i,o){if(this.openOverlays.some(a=>a.index===t))return;const l=this,r={defaultY:n,entry:i,index:t,onClose:()=>{l.closeOverlay(t,s,o)},openTabIndex:0};this.openOverlays.push(r),this.openOverlays=this.openOverlays.sort((a,c)=>a.index>c.index?1:-1),this.renderOverlays(s,o),this.context.pubSub.publishToOverlayChanges({changedIndex:t,combinedOverlayHeight:l.getCombinedOverlayHeight(),type:"open"})}toggleOverlay(t,n,s,i,o){this.openOverlays.some(l=>l.index===t)?this.closeOverlay(t,s,o):this.openOverlay(t,n,s,i,o)}closeOverlay(t,n,s){const i=this;this.openOverlays.splice(this.openOverlays.reduce((o,l,r)=>l.index===t?r:o,-1),1),this.renderOverlays(n,s),this.context.pubSub.publishToOverlayChanges({changedIndex:t,combinedOverlayHeight:i.getCombinedOverlayHeight(),type:"closed"})}renderOverlays(t,n){let s=0;const i=(r,a,c)=>{s+=c,r.actualY=a,r.height=c},o=(r,a)=>{const c=a.defaultY+s,d=qn(a,c,t),f=d.querySelector("img.preview");f&&!f.src&&f.setAttribute("src",(f.attributes.getNamedItem("data-src")||{value:""}).value),d.querySelector("a").addEventListener("keydown",$.firstElKeypress),Ie(d.querySelectorAll("button")).addEventListener("keydown",$.lastElKeypress),r.appendChild(d),i(a,c,d.getBoundingClientRect().height)},l=(r,a)=>{const c=je(this.openOverlays,u=>u.index===a),d=r.nextElementSibling,f=d.firstElementChild;if(this.realignRow(r,s),c===void 0){f&&d!==null&&(d.querySelector("a").removeEventListener("keydown",$.firstElKeypress),Ie(d.querySelectorAll("button")).removeEventListener("keydown",$.lastElKeypress),Je(d));return}if(f&&c.actualY!==void 0){const u=f.querySelector(".info-overlay-bg"),h=f.querySelector("foreignObject"),g=f.querySelector(".info-overlay-close-btn rect"),v=f.querySelector(".info-overlay-close-btn text");i(c,c.defaultY+s,c.height),u.setAttribute("y",c.actualY.toString()),h.setAttribute("y",c.actualY.toString()),v.setAttribute("y",c.actualY.toString()),g.setAttribute("y",c.actualY.toString());return}o(r.nextElementSibling,c)};n.forEach(l)}}$.showFullName=e=>{var t;(t=e.getElementsByClassName("row-fixed").item(0))==null||t.dispatchEvent(new MouseEvent("mouseenter"))};$.firstElKeypress=e=>{if(Ue(e)){const t=K(e.target,"row-overlay-holder");t&&t.previousElementSibling&&$.showFullName(t.previousElementSibling)}};$.lastElKeypress=e=>{if(Qe(e)){const t=K(e.target,"row-overlay-holder");t&&t.nextElementSibling&&$.showFullName(t.nextElementSibling)}};class Sn{constructor(){this.subscribers=[]}subscribeToOverlayChanges(t){this.subscribers.push(t)}subscribeToSpecificOverlayChanges(t,n){this.subscribers.push(s=>{s.changedIndex===t&&n(s)})}publishToOverlayChanges(t){this.subscribers.forEach(n=>n(t))}}const q=(e,t,n,s,i,o)=>{const l=B("",{x:e,y:t}),r=C(`icon ${s}`,{transform:`scale(${i})`});return r.appendChild(o),r.appendChild(U(n)),l.appendChild(r),l};let te;function Ln(e,t,n,s=1){return te===void 0&&(te=T(`M18 6.216v2.77q0 .28-.206.486-.205.206-.486.206h-.693q-.28 0-.486-.206-.21-.205-.21
  -.487v-2.77q0-1.145-.81-1.957-.813-.81-1.96-.81-1.146 0-1.957.81-.81.812-.81 1.958v2.077h1.037q.434
  0 .737.303.302.303.302.736v6.23q0 .433-.305.736t-.737.303H1.038q-.433 0-.736-.3Q0 15.996 0
  15.56V9.33q0-.433.303-.736t.735-.303h7.27V6.218q0-2 1.422-3.423 1.423-1.423 3.424-1.423 2
  0 3.424 1.424Q18 4.214 18 6.216`)),q(e,t,n,"icon-no-tls",s,te.cloneNode(!1))}let ne;function En(e,t,n,s=1){return ne===void 0&&(ne=T(`M17 2.333V7q0 .27-.198.47-.198.197-.47.197h-4.665q-.438 0-.615-.417-.177-.406.146-.72l1.437-1.436Q11.095
  3.667 9 3.667q-1.083 0-2.068.422-.984.42-1.703 1.14-.72.715-1.14 1.7-.426.984-.426 2.07 0 1.08.422 2.065.42.984
  1.14 1.703.718.72 1.702 1.14.984.422 2.067.422 1.24 0 2.344-.54 1.104-.543 1.864-1.533.073-.105.24-.126.146 0
  .26.095l1.427 1.436q.095.084.1.214.006.13-.08.234-1.133 1.376-2.75 2.13Q10.793 17 9 17q-1.625
  0-3.104-.635-1.48-.636-2.552-1.71-1.073-1.072-1.71-2.55Q1 10.625 1 9t.635-3.104q.636-1.48 1.71-2.552
  1.072-1.073 2.55-1.71Q7.375 1 9 1q1.53 0 2.964.578 1.432.578 2.546
  1.63l1.355-1.343q.302-.323.73-.146.405.173.405.61z`)),q(e,t,n,"icon-redirect",s,ne.cloneNode(!1))}function $n(e,t,n,s=1){return qe(e,t,n,s)}function Hn(e,t,n,s=1){return qe(e,t,n,s)}let se;function In(e,t,n,s=1){return se===void 0&&(se=T(`M15.247 4.393q.25.25.43.678.177.43.177.79v10.287q0
  .357-.25.607t-.607.25h-12q-.357 0-.607-.25t-.25-.606V1.858q0-.358.25-.608T2.997 1h8q.357 0
  .786.18.428.177.678.427zm-3.964-2.18V5.57h3.357q-.09-.256-.196-.364L11.65 2.41q-.108-.106-.367
  -.196zm3.428 13.644V6.714H11q-.357 0-.607-.25t-.25-.607V2.143h-6.86v13.714H14.71zM5.57
  8.143q0-.125.08-.205.08-.08.204-.08h6.286q.125 0 .205.08.08.08.08.205v.57q0 .126-.08.207-.08.08
  -.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.206v-.57zm6.57 2q.125 0 .205.08.08.08.08.206V11q0
  .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.205v-.57q0-.126.08-.207.08-.08.2
  -.08h6.286zm0 2.286q.125 0 .205.08.08.08.08.2v.572q0 .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205
  -.08-.08-.08-.08-.205v-.572q0-.124.08-.204.08-.08.2-.08h6.286z`)),q(e,t,n,"icon-plain",s,se.cloneNode(!1))}let ie;function Mn(e,t,n,s=1){return ie===void 0&&(ie=T(`M10.8 13.5v3q0 .2-.15.35-.15.15-.35.15h-3q-.2 0-.35-.15-.15-.15-.15-.35v-3q0-.2.15-.35.15
  -.15.35-.15h3q.2 0 .35.15.15.15.15.35zM14.75 6q0 .675-.193 1.262-.193.588-.437.957-.244.365
  -.688.74-.443.375-.718.543-.275.17-.763.444-.51.286-.852.81-.344.526-.344.84 0 .21-.15.405-.15.194
  -.35.194h-3q-.186 0-.318-.23-.13-.234-.13-.47v-.564q0-1.037.812-1.956.812-.917 1.787-1.355.74-.336
  1.05-.7.314-.362.314-.95 0-.524-.583-.924-.58-.4-1.343-.4-.814 0-1.35.362-.44.312-1.34 1.437-.16.2
  -.386.2-.15 0-.313-.1L3.4 4.987q-.16-.124-.193-.312-.03-.188.07-.35Q5.277 1 9.077 1q1 0 2.01.387
  1.01.388 1.825 1.038.812.65 1.325 1.594.51.94.51 1.98z`)),q(e,t,n,"icon-other",s,ie.cloneNode(!1))}let oe;function Pn(e,t,n,s=1){return oe===void 0&&(oe=T(`M13.516 2.9c-2.766 0-4.463 1.522-4.463 3.536 0 1.733 1.295 2.82 3.256 3.52
  1.413.49 1.973.926 1.973 1.644 0 .787-.647 1.296-1.873 1.296-1.137 0-2.26-.368-2.96-.736l-.54
  2.19c.665.367 1.996.734 3.344.734 3.238 0 4.744-1.68 4.744-3.658
  0-1.68-.966-2.767-3.05-3.537-1.54-.6-2.186-.93-2.186-1.68 0-.6.56-1.14 1.714-1.14
  1.137 0 1.996.33 2.45.56l.596-2.138c-.7-.332-1.663-.596-3.01-.596zm-9.032.192v7.44c0
  1.822-.702 2.33-1.822 2.33-.525 0-.997-.09-1.365-.212L1 14.805c.525.175 1.33.28 1.96.28
  2.574 0 4.185-1.173 4.185-4.534V3.097h-2.66z`)),q(e,t,n,"icon-js",s,oe.cloneNode(!1))}let re;function ut(e,t,n,s=1){return re===void 0&&(re=T(`M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4
  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3
  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0
  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623
  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0
  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z`)),q(e,t,n,"icon-image",s,re.cloneNode(!1))}function An(e,t,n,s=1){return ut(e,t,n,s)}let le;function On(e,t,n,s=1){return le===void 0&&(le=T(`M5.626 13.31l-.492.492q-.098.098-.226.098t-.226-.098L.098 9.22Q0 9.12 0
  8.99q0-.127.098-.226L4.682 4.18q.098-.097.226-.097t.226.098l.492.49q.1.1.1.23t-.1.23L1.76
  8.99l3.866 3.866q.1.098.1.226t-.1.226zM11.44 2.815l-3.67
  12.7q-.04.127-.152.19-.113.065-.23.026l-.61-.162q-.13-.04-.193-.152-.064-.112-.024-.24l3.67-12.698q.04
  -.128.157-.192.113-.064.23-.025l.61.167q.13.04.193.152.063.113.023.24zM17.9
  9.22l-4.582 4.58q-.098.098-.226.098t-.226-.098l-.492-.492q-.1-.098-.1-.226t.1-.226L16.24
  8.99l-3.867-3.865q-.1-.098-.1-.226t.1-.23l.492-.49q.098-.1.226-.1t.23.1l4.58 4.583q.1.1.1.226 0 .13-.1.23z`)),q(e,t,n,"icon-html",s,le.cloneNode(!1))}let ae;function Nn(e,t,n,s=1){return ae===void 0&&(ae=T(`M15.436.99q.625 0 1.095.416.47.415.47 1.04 0 .564-.4 1.35-2.97 5.624-4.16 6.724-.865.814
  -1.946.814-1.127 0-1.935-.827-.81-.827-.81-1.962 0-1.144.822-1.895l5.705-5.175Q14.8.99
  15.435.99zM7.31 10.232q.35.68.953 1.162.603.483 1.345.68l.01.634q.035 1.904-1.16 3.102-1.192
  1.198-3.114 1.198-1.1 0-1.948-.416-.85-.415-1.364-1.14-.514-.723-.773-1.635Q1 12.905 1
  11.85l.366.268q.304.224.555.398.25.175.53.327.277.15.41.15.368 0 .493-.33.224-.59.515-1.005.29
  -.415.62-.68.332-.263.788-.424.455-.16.92-.228.465-.066 1.118-.094z`)),q(e,t,n,"icon-css",s,ae.cloneNode(!1))}let ce;function qe(e,t,n,s=1){return ce===void 0&&(ce=T(`M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4
  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3
  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0
  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623
  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0
  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z`)),q(e,t,n,"icon-warning",s,ce.cloneNode(!1))}let de;function zn(e,t,n,s=1){return de===void 0&&(de=T(`M9 1q2.177 0 4.016 1.073 1.838 1.073 2.91 2.91Q17 6.823 17 9q0 2.177-1.073 4.016-1.073
  1.838-2.91 2.91Q11.177 17 9 17q-2.177 0-4.016-1.073-1.838-1.073-2.91-2.91Q1 11.177 1 9q0-2.177 1.073-4.016
  1.073-1.838 2.91-2.91Q6.823 1 9 1zm1.333 12.99v-1.98q0-.145-.093-.244-.094-.1-.23-.1h-2q-.135 0-.24.105
  -.103.106-.103.24v1.98q0 .136.104.24.106.104.24.104h2q.137 0 .23-.1.094-.098.094-.243zm-.02-3.584l.187
  -6.468q0-.125-.104-.188-.104-.084-.25-.084H7.854q-.146 0-.25.084-.104.062-.104.188l.177 6.468q0
  .104.104.183.106.076.25.076h1.93q.146 0 .245-.078.1-.08.11-.184z`)),q(e,t,n,"icon-no-gzip",s,de.cloneNode(!1))}let ue;function _n(e,t,n,s=1){return ue===void 0&&(ue=T(`M7.97 5.754L6.338 10.08q.317 0 1.312.02.994.02 1.542.02.183 0 .548-.02-.836-2.432-1.77
  -4.345zM1 16.38l.02-.76q.22-.068.538-.12.317-.053.548-.102.23-.048.476-.14.245-.09.428-.278.182
  -.187.298-.485l2.28-5.923 2.69-6.962H9.51q.077.135.105.202l1.972 4.615q.317.75 1.02 2.476.7 1.726
  1.095 2.64.144.327.558 1.39.413 1.062.692 1.62.192.432.336.547.183.145.847.284.663.14.807.197.058.37.058.55
  0 .04-.005.13t-.005.128q-.605 0-1.827-.076-1.22-.08-1.836-.08-.73 0-2.067.07-1.337.067-1.712.076 0-.412.04
  -.75l1.258-.27q.01 0 .12-.022l.15-.033q.038-.01.14-.044.1-.034.143-.06l.1-.08q.06-.048.082-.106.024-.056.024
  -.133 0-.152-.298-.926t-.693-1.71q-.392-.93-.402-.96l-4.325-.02q-.25.56-.734 1.88-.487 1.32-.487 1.56 0
  .213.136.362.134.15.418.235.285.087.467.13.185.044.55.08.366.04.395.04.01.183.01.558 0 .087-.02.26-.558
  0-1.678-.095-1.12-.098-1.678-.098-.08 0-.26.04-.18.037-.208.037-.77.136-1.808.136Z`)),q(e,t,n,"icon-font",s,ue.cloneNode(!1))}let fe;function kn(e,t,n,s=1){return fe===void 0&&(fe=T(`M13.724 4.738q.195.216.076.476L7.96 17.73q-.142.27-.456.27-.043 0-.15-.022-.185-.054-.277
  -.205-.092-.15-.05-.325l2.132-8.74L4.765 9.8q-.044.01-.13.01-.195 0-.336-.118-.193-.162-.14-.422L6.337.346q.043
  -.15.173-.25Q6.64 0 6.81 0h3.548q.206 0 .346.135.14.135.14.32 0 .086-.053.194L8.94 5.654l4.285
  -1.06q.086-.02.13-.02.205 0 .367.16z`)),q(e,t,n,"icon-flash",s,fe.cloneNode(!1))}let pe;function Rn(e,t,n,s=1){return pe===void 0&&(pe=T(`M17 4.107v9.714q0 .38-.348.53-.116.05-.223.05-.25 0-.41-.17l-3.6-3.6v1.48q0 1.067-.757 1.82-.754.756
  -1.817.756H3.57q-1.06 0-1.816-.753Q1 13.17 1 12.106V5.82q0-1.06.754-1.816.755-.754 1.817-.754h6.29q1.07 0
  1.82.754.76.755.76 1.817V7.3l3.597-3.59q.16-.17.4-.17.107 0 .22.045.35.153.35.528z`)),q(e,t,n,"icon-video",s,pe.cloneNode(!1))}let he;function Bn(e,t,n,s=1){return he===void 0&&(he=T(`M8.385 3.756v10.46q0 .252-.183.434-.183.183-.433.183t-.44-.183l-3.2-3.202H1.61q-.25
  0-.43-.183-.18-.182-.18-.432V7.14q0-.25.182-.432.182-.183.432-.183h2.52l3.202-3.202q.182-.183.432
  -.183t.43.183q.182.183.182.433zm3.692 5.23q0 .73-.41 1.36-.407.63-1.08.9-.097.048-.24.048-.25 0
  -.434-.178-.182-.177-.182-.437 0-.21.12-.35.12-.14.28-.24.16-.1.33-.22.166-.12.28-.34.117-.22.117
  -.55 0-.33-.115-.55-.115-.224-.28-.344-.163-.12-.326-.22-.165-.1-.28-.24-.116-.14-.116-.34 0-.26.183
  -.44t.43-.176q.146 0 .24.048.676.26 1.08.894.41.636.41 1.367zm2.46 0q0 1.472-.816 2.717t-2.16 1.813q
  -.12.048-.24.048-.26 0-.44-.183-.18-.18-.18-.43 0-.37.378-.56.54-.28.73-.42.713-.52 1.11-1.302.4
  -.783.4-1.667 0-.886-.4-1.67-.4-.783-1.11-1.303-.192-.145-.73-.424-.376-.192-.376-.567 0-.25.183
  -.434.183-.18.433-.18.123 0 .25.047 1.344.567 2.16 1.812.82 1.244.82 2.716zm2.463 0q0 2.212
  -1.22 4.063-1.222 1.85-3.25 2.72-.126.05-.25.05-.25 0-.434-.19-.183-.183-.183-.433 0-.346.375
  -.568.068-.04.217-.1.15-.064.216-.1.45-.244.79-.494 1.19-.875 1.85-2.183.67-1.306.67-2.777 0
  -1.47-.663-2.78-.664-1.304-1.846-2.18-.346-.25-.79-.49-.065-.035-.214-.1-.15-.06-.22-.1
  -.375-.22-.375-.57 0-.25.183-.43.183-.182.433-.182.123 0 .25.047 2.027.876 3.25 2.727Q17 6.775 17 8.99Z`)),q(e,t,n,"icon-audio",s,he.cloneNode(!1))}const Ne=Object.freeze(Object.defineProperty({__proto__:null,audio:Bn,css:Nn,err3xx:En,err4xx:$n,err5xx:Hn,error:zn,flash:kn,font:_n,html:On,image:ut,javascript:Pn,noTls:Ln,other:Mn,plain:In,svg:An,video:Rn,warning:qe},Symbol.toStringTag,{value:"Module"})),Wn=/(?:translate)\(.+[, ]+(.+)\)/,ft=200,jn=(e="")=>{e=e===null?"":e;const t=Wn.exec(e);return t&&t.length>=2?parseInt(t[1],10):0},Vn=(e,t,n)=>{const s=n.querySelector(".tooltip-payload"),i=K(e,"row-item"),o=jn(i.getAttribute("transform")),l=parseInt(e.getAttribute("y")||"",10),r=e.getAttribute("x")||"",a=parseFloat(r);let c=50;const d=e.width.baseVal.value||e.getBoundingClientRect().width,f=d/(t.width/t.unit),u=t.width/t.unit/d,h=a>50&&(95-a)*f<ft;s.innerHTML=t.label||"",A(s,"no-anim"),n.style.display="block",s.style.opacity="0.01";const g=s.clientHeight+5;if(l+o-g>0?c=o-g:c=o+t.height+10,h){const I=a-(s.clientWidth+5)*u;let m=parseInt(n.querySelector("body").style.left||"",10);m=1/(1/100*(100-m))*m,I>-m?s.style.left=`${I}%`:s.style.left=`${-m}%`}else s.style.left=r;n.setAttribute("y",`${l+c}`),n.setAttribute("height",g.toString()),V(s,"no-anim"),s.style.opacity="1";const v=s.clientHeight+5-g;v!==0&&(n.setAttribute("height",(g+v).toString()),n.setAttribute("y",`${l+c-v}`))},Fn=e=>{const n=K(e,"water-fall-chart").querySelector(".tooltip"),s=n.querySelector(".tooltip-payload");n.style.display="none",n.setAttribute("height","250"),s.style.opacity="0"},Un=e=>{const t=e.leftColumnWidth,n=B("tooltip-holder",{width:"100%",x:"0",y:"0"}),s=at({width:"100%",x:"0",y:`${t}%`},"tooltip",{display:"none"}),i=tt(),o=nt({left:`${t}%`,width:`${100-t}%`},`<div class="tooltip-payload" style="max-width: ${ft}px; opacity: 0;"></div>`);return i.appendChild(o),s.appendChild(i),n.appendChild(s),n};function ze(e,t){const n=C(""),s=e.height-1,i=w(e.x/e.unit)+"%",o=H({height:s,width:w(e.width/e.unit)+"%",x:i,y:e.y},t);if(n.appendChild(o),e.label){let l,r;o.addEventListener("mouseenter",()=>{r||(r=K(o,"water-fall-chart").querySelector(".tooltip")),l=setTimeout(()=>{l=null,Vn(o,e,r)},100)}),o.addEventListener("mouseleave",()=>{l?clearTimeout(l):Fn(o)})}return e.showOverlay&&e.hideOverlay&&(o.addEventListener("mouseenter",e.showOverlay(e)),o.addEventListener("mouseleave",e.hideOverlay(e))),n}function Qn(e,t,n){const s=C(""),i=t.height-1,o=w(e.ts/t.unit)+"%",l=H({height:i,width:"1px",x:o,y:t.y},n,{pointerEvents:"none"});return s.appendChild(l),s}function Dn(e,t){const n=isNaN(e.total)?"":`<br/>total: ${Math.round(e.total)}ms`;return{cssClass:Cn(e.type),height:t.height-6,hideOverlay:t.hideOverlay,label:`<strong>${e.type}</strong><br/>${Math.round(e.start)}ms - ${Math.round(e.end)}ms${n}`,showOverlay:t.showOverlay,unit:t.unit,width:e.total,x:e.start||.001,y:t.y}}function Yn(e,t,n){const o=e.y+e.height/1.5,l=`${Math.round(t)} ms`;let r=(e.x+e.width)/e.unit+1,a=M(l,{x:`${w(r)}%`,y:o});const c=l.length*8;return r+c/500*100>100&&(r=n/e.unit-1,a=M(l,{x:`${w(r)}%`,y:o},{textAnchor:"end"})),a}function Gn(e){const t=e.y+e.height/1.5,n=`${w(e.x/e.unit)}%`,s=C("http2-inidicator-holder");return s.appendChild(M("→",{transform:"translate(-5)",x:n,y:t},{fillOpacity:"0.6","text-anchor":"end"})),s.appendChild(U("http2 Push")),s}function Kn(e,t){const n=t.segments,s=ze(e,`time-block ${e.cssClass}`),i=C("rect-holder");let o=e.x;return i.appendChild(s),n&&n.length>0&&(n.forEach(l=>{if(!isNaN(l.total)&&l.total>0&&typeof l.start=="number"){const r=Dn(l,e),a=ze(r,`segment ${r.cssClass}`);o=Math.min(o,r.x),l.type==="receive"&&l.chunks&&l.chunks.length>0&&l.chunks.forEach(c=>{const d=Qn(c,r,`${r.cssClass}-chunk`);a.appendChild(d)}),i.appendChild(a)}}),je(t.responseDetails.indicators,l=>l.id==="push")&&i.appendChild(Gn(e)),i.appendChild(Yn(e,t.total,o))),i}function Xn(e,t,n,s,i){return t+=Math.round(s/2)+5,e+=i,M(n,{x:e,y:t},{"text-anchor":"end"})}function Zn(e,t,n,s){const i=pt(e,t,n,s);return i.style.clipPath="url(#titleClipPath)",i}function Jn(e,t,n,s){const i=pt(e,t,n,s),o=C("full-label",{},{clipPath:"url(#titleFullClipPath)"});return o.appendChild(H({height:s-4,rx:5,ry:5,width:500,x:e-3,y:t+3},"label-full-bg")),o.appendChild(i),o}function pt(e,t,n,s){const i=Ve(n,125);t=t+Math.round(s/2)+5;const o=M(i,{x:e,y:t});return o.appendChild(U(n)),o.style.opacity=n.match(/js.map$/)?"0.5":"1",o}const _e=typeof window.requestAnimationFrame=="function"&&typeof window.cancelAnimationFrame=="function";function es(e,t,n,s){const i=s.getElementsByTagName("rect")[0],o=s.getElementsByTagName("text")[0];s.style.display="none",s.style.visibility="hidden",e.appendChild(t),e.appendChild(n),e.appendChild(s);let l=!1,r;e.addEventListener("mouseenter",()=>{s.style.display="block",n.style.display="none",s.style.visibility="visible";const a=()=>{const c=o.getComputedTextLength()+10;i.setAttribute("width",c.toString()),l=!0,r=void 0};l||(_e?r=window.requestAnimationFrame(a):a())}),e.addEventListener("mouseleave",()=>{n.style.display="block",s.style.display="none",s.style.visibility="hidden",_e&&r!==void 0&&cancelAnimationFrame(r)})}function ts(e,t,n){return H({height:t,width:"100%",x:0,y:e},n?"even":"odd")}function ns(e,t){const n=C("row row-fixed");return n.appendChild(H({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n}function ss(e,t){const n=C("row row-flex");return n.appendChild(H({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n}const ht=lt("titleClipPath");ht.appendChild(H({height:"100%",width:"100%"}));const gt=lt("titleFullClipPath");gt.appendChild(H({height:"100%",width:"100%"}));const ke=3;function is(e,t,n,s,i,o,l){const r=i.y,a=i.height,c=e.options.leftColumnWidth,d=ct(o.responseDetails.rowClass||"");d.setAttribute("tabindex","0"),d.setAttribute("xlink:href","javascript:void(0)");const f=B("left-fixed-holder",{width:`${c}%`,x:"0"}),u=B("flex-scale-waterfall",{width:`${100-c}%`,x:`${c}%`}),h=Kn(i,o),g=ns(r,a),v=ss(r,a),I=ts(r,a,t%2===0);let m=ke+n;if(e.options.showMimeTypeIcon){const b=o.responseDetails.icon;m-=b.width,g.appendChild(Ne[b.type](m,r+3,b.title))}e.options.showIndicatorIcons&&Ft(o).forEach(b=>{m-=b.width,g.appendChild(Ne[b.type](m,r+3,b.title))}),m=ke+n;const N=`${t+1}`,p=Xn(m,r,N,a,s);m+=s+4;const x=Zn(m,r,Ve(o.url,40),a),z=Jn(m,r,o.url,a);v.appendChild(h),es(g,p,x,z),e.pubSub.subscribeToSpecificOverlayChanges(t,b=>{_=b.type==="open"}),t>0&&e.pubSub.subscribeToSpecificOverlayChanges(t-1,b=>{W=b.type==="open"});let _,W;return d.addEventListener("click",b=>{b.preventDefault(),l(b)}),d.addEventListener("keydown",b=>{const S=b;if(S.which===32||S.which===13)return S.preventDefault(),l(S);if(Ue(S)&&!W&&t>0){d.previousSibling&&d.previousSibling.previousSibling&&d.previousSibling.previousSibling.lastChild&&d.previousSibling.previousSibling.lastChild.lastChild&&d.previousSibling.previousSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter"));return}if(Qe(S)&&!_){d.nextSibling&&d.nextSibling.nextSibling&&d.nextSibling.nextSibling.lastChild&&d.nextSibling.nextSibling.lastChild.lastChild&&d.nextSibling.nextSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter"));return}}),d.addEventListener("focusout",()=>{g.dispatchEvent(new MouseEvent("mouseleave"))}),u.appendChild(v),f.appendChild(ht.cloneNode(!0)),f.appendChild(g),d.appendChild(gt.cloneNode(!0)),d.appendChild(I),d.appendChild(u),d.appendChild(f),d}function os(e){return{endline:G({x1:"0",x2:"0",y1:"0",y2:e},"line-end"),startline:G({x1:"0",x2:"0",y1:"0",y2:e},"line-start")}}function rs(e){return{onMouseEnterPartial(){return t=>{const n=t.target;A(n,"active");const s=n.x.baseVal.valueInSpecifiedUnits+n.width.baseVal.valueInSpecifiedUnits+"%",i=n.x.baseVal.valueInSpecifiedUnits+"%";e.endline.x1.baseVal.valueAsString=s,e.endline.x2.baseVal.valueAsString=s,e.startline.x1.baseVal.valueAsString=i,e.startline.x2.baseVal.valueAsString=i,A(e.endline,"active"),A(e.startline,"active")}},onMouseLeavePartial(){return t=>{const n=t.target;V(n,"active"),V(e.endline,"active"),V(e.startline,"active")}}}}const ls=(e,t,n,s,i=!1)=>{const o=e.diagramHeight,l=100/n;let r,a="sub-second-line",c;if(i){const f=s>n-.2;a="second-line",c=w(l*s)+.5+"%";const u={};f&&(c=w(l*s)-.5+"%",u["text-anchor"]="end"),r=M(s+"s",{x:c,y:o},u)}c=w(l*s)+"%";const d=G({x1:c,x2:c,y1:0,y2:o},a);e.pubSub.subscribeToOverlayChanges(f=>{const u=f.combinedOverlayHeight,h=(o+u)/o;d.setAttribute("transform",`scale(1, ${h})`),i&&r.setAttribute("transform",`translate(0, ${u})`)}),t.appendChild(d),i&&t.appendChild(r)};function as(e,t){const n=C("time-scale full-width"),s=1e3,l=t<20*s?Math.ceil(t/(10*s))*(s/5):s,r=Number(1000n/BigInt(l)),a=t/s,c=Math.floor(t/l);for(let d=0;d<=c;d++){const f=d%r===0,u=d/r;ls(e,n,a,u,f)}return n}function cs(e,t){const n=e.diagramHeight,s=C("marker-holder",{transform:"scale(1, 1)"});return t.forEach((i,o)=>{const l=w(i.startTime/e.unit),r=C("mark-holder type-"+i.name.toLowerCase().replace(/([0-9]+[ ]?ms)|\W/g,"")),a=C("line-holder"),c=C("line-label-holder"),d=M(i.name,{x:`${l}%`,y:n+25});d.setAttribute("writing-mode","tb");let f;i.x=l;const u=G({x1:l+"%",x2:l+"%",y1:0,y2:n}),h=t[o-1],g=t[o+1],v=2.5,I=(h==null?void 0:h.x)!==void 0&&i.x-h.x<v,m=w(((g==null?void 0:g.startTime)||0)/e.unit);m&&m-i.x<v&&m+v>=100&&!I?(d.setAttribute("x",`${m-v}%`),i.x=m-v):(h==null?void 0:h.x)!==void 0&&I&&(d.setAttribute("x",`${h.x+v}%`),i.x=h.x+v);const N=G({x1:l+"%",x2:i.x+"%",y1:n,y2:n+23});a.appendChild(u),a.appendChild(N),i.duration&&(f=ds(e,i),a.appendChild(f)),e.pubSub.subscribeToOverlayChanges(b=>{const S=b.combinedOverlayHeight,Se=(n+S)/n;u.setAttribute("transform",`scale(1, ${Se})`),c.setAttribute("transform",`translate(0, ${S})`),N.setAttribute("transform",`translate(0, ${S})`),f&&f.setAttribute("transform",`translate(0, ${S})`)});let p=!1,x=!1;const z=()=>{p||(r.parentNode.appendChild(r),p=!0,typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>A(a,"active")):A(a,"active"))},_=()=>{p=!1,x||V(a,"active")},W=()=>{x?(p=!1,V(a,"active")):p?p=!1:A(a,"active"),x=!x};d.addEventListener("mouseenter",z),d.addEventListener("mouseleave",_),d.addEventListener("click",W),c.appendChild(d),r.appendChild(U(i.name)),r.appendChild(a),r.appendChild(c),s.appendChild(r)}),s}function ds(e,t){const n=C(`line-mark-holder line-marker-${Fe(t.name)}`);return n.appendChild(U(t.name.replace(/^startTimer-/,""))),n.appendChild(H({height:e.diagramHeight,width:(t.duration||1)/e.unit+"%",x:(t.startTime||.001)/e.unit+"%",y:0},"line-mark")),n}function us(e){const t=Math.floor(Math.log(e)/Math.LN10)+1;let n="";for(let s=0;s<t;s++)n+="0";return n}function fs(e,t){const n=e.reduce((s,i)=>{const o={x:0,y:0};return Math.max(s,dt(M(i.name,o),!0))},0);return Math.floor(t+n+35)}function ps(e,t,n){const s=e.durationMs/100,o={diagramHeight:(n.length+1)*t.rowHeight,options:t,pubSub:new Sn,unit:s};return{...o,overlayManager:new $(o)}}function Re(e,t){const n=e.entries.filter(p=>typeof p.start=="number"&&typeof p.total=="number").sort((p,x)=>(p.start||0)-(x.start||0)),s=C("overlays"),i=C("rows-holder"),o=ps(e,t,n),l=fs(e.marks,o.diagramHeight),r=B("water-fall-chart",{height:l}),a=B("scale-and-marks-holder",{width:`${100-t.leftColumnWidth}%`,x:`${t.leftColumnWidth}%`});let c,d;if(t.showAlignmentHelpers){c=C("hover-overlays");const p=os(o.diagramHeight);c.appendChild(p.startline),c.appendChild(p.endline),d=rs(p)}a.appendChild(as(o,e.durationMs)),a.appendChild(cs(o,e.marks));const f=n[0].responseDetails.icon.width;let u=0;if(t.showMimeTypeIcon&&(u+=1),t.showIndicatorIcons){const p=n.map(x=>x.responseDetails.indicators.filter(z=>z.displayType==="icon").length>0?1:0);u+=Math.max.apply(null,p)}const h=u*f,g=us(n.length),v=dt(M(`${g}`),!0),I=[];function m(){return l+o.overlayManager.getCombinedOverlayHeight()}o.pubSub.subscribeToOverlayChanges(()=>{const p=m();r.classList.toggle("closing",p<r.clientHeight),r.style.height=`${p}px`});function N(p,x){const z=p.total||1,_=t.rowHeight*x,W=p.start||.001,b=450,S={cssClass:wn(p.responseDetails.requestType),height:t.rowHeight,hideOverlay:t.showAlignmentHelpers?d.onMouseLeavePartial:void 0,label:`<strong>${p.url}</strong><br/>${Math.round(p.start)}ms - ${Math.round(p.end)}ms<br/>total: ${isNaN(p.total)?"n/a ":Math.round(p.total)}ms`,showOverlay:t.showAlignmentHelpers?d.onMouseEnterPartial:void 0,unit:o.unit,width:z,x:W,y:_},Le=is(o,x,h,v,S,p,()=>{o.overlayManager.toggleOverlay(x,_+t.rowHeight,b,p,I)});I.push(Le),i.appendChild(Le),i.appendChild(C("row-overlay-holder"))}return n.forEach(N),t.showAlignmentHelpers&&c!==void 0&&a.appendChild(c),r.appendChild(a),r.appendChild(i),r.appendChild(s),r.appendChild(Un(t)),r}const hs={leftColumnWidth:25,legendHolder:void 0,onParsed:void 0,pageSelector:void 0,rowHeight:23,selectedPage:0,showAlignmentHelpers:!0,showIndicatorIcons:!0,showMimeTypeIcon:!0},gs={showUserTiming:!1,showUserTimingEndMarker:!1};function ms(e,t={}){t.leftColumnWith!==void 0&&(console.warn("Depreciation Warning: The option 'leftColumnWith' has been fixed to 'leftColumnWidth', please update your code as this will get deprecated in the future"),t.leftColumnWidth=t.leftColumnWith);const n=It({...hs,...t}),s=new Nt(e,n.selectedPage);let i=Re(s.getSelectedPage(),n);return s.onPageUpdate((o,l)=>{const r=i.parentElement,a=Re(l,n);r.replaceChild(a,i),i=a}),n.pageSelector&&s.initPagingSelectBox(n.pageSelector),n.legendHolder&&(n.legendHolder.innerHTML="",n.legendHolder.appendChild(Mt())),i}function bs(e,t={}){const n={...gs,...t},s=dn(e,n);return typeof t.onParsed=="function"&&t.onParsed(s),ms(s,t)}const ys=wt("div")({});function Be(e){e.querySelectorAll("a").forEach(t=>t.setAttribute("target","_blank"))}function We(e,t){e.querySelectorAll("svg").forEach(n=>{if(n.setAttribute("fill","white"),n.classList.contains("left-fixed-holder")){const s=n.getElementsByClassName("label-full-bg");s&&s.length>0&&(s[0].style.fill=t.palette.primaryDark[500])}if(n.classList.contains("tooltip-holder")){const s=n.getElementsByClassName("tooltip-payload");if(s&&s.length>0)for(const i of s)i.style.backgroundColor=t.palette.primaryDark[500]}})}function Cs({value:e=yt(),sx:t}){const n=Ee.useRef(null),s=mt();return Ee.useEffect(()=>{const i=n.current;if(e&&e.log.entries.length>0&&i){const o=bs(e);Be(o),s.palette.mode==="dark"&&We(o,s);const l=new MutationObserver(r=>{for(const a of r)for(const c of a.addedNodes)c instanceof Element&&(Be(c),s.palette.mode==="dark"&&We(o,s))});return l.observe(o,{subtree:!0,childList:!0}),i.append(o),()=>{l.disconnect(),o.remove()}}return()=>{}},[e,s]),bt.jsx(ys,{ref:n,sx:t})}export{Cs as default};
